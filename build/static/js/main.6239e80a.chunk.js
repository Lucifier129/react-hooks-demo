(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t,n){e.exports=n(19)},16:function(e,t,n){},19:function(e,t,n){"use strict";n.r(t);var a=n(8),c=n(1),i=n(0),r=n.n(i),o=n(4),s=n.n(o),l=r.a.createContext(),d=(n(16),n(2)),u=function(){var e=Object(i.useState)([window.innerWidth,window.innerHeight]),t=Object(c.a)(e,2),n=t[0],a=t[1];return Object(i.useEffect)(function(){var e=function(e){a([window.innerWidth,window.innerHeight])};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}},[]),n},m=function(e){var t=u(),n=Object(c.a)(t,2),a=n[0],r=n[1],o=a/2,s=r/2,l=a/2,d=r/2,m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,0],t=Object(i.useState)(e),n=Object(c.a)(t,2),a=n[0],r=n[1];return Object(i.useEffect)(function(){var e=function(e){return r([e.clientX,e.clientY])};return window.addEventListener("mousemove",e,!1),function(){return window.removeEventListener("mousemove",e,!1)}},[]),a}([o,s]),g=Object(c.a)(m,2),p=g[0]-o,w=g[1]-s;return{position:[p,w],total:[l,d],scale:[Math.min(p/l,1),Math.min(w/d,1)]}},g=function(e,t){if(!e||!e.i18n)return e;var n=Object(i.useContext)(t),a=e.i18n[n.toUpperCase()];return Object(d.a)({},e,a)},p=function(e){var t=e.data,n=e.styles,a=g(t,l),c=a.name,i=a.image,o=a.imageStyle,s=a.background;return r.a.createElement("div",{className:"card"},r.a.createElement("div",{style:Object(d.a)({},n.background,{backgroundImage:"url(".concat(s,")"),backgroundSize:"cover",backgroundRepeat:"no-repeat"}),className:"card__bg"}),r.a.createElement("img",{style:Object(d.a)({},n.image,o),className:"card__img",src:i,alt:c,title:c}),r.a.createElement("div",{className:"card__text"},r.a.createElement("p",{className:"card__title"},c)))},w=function(e){var t=e.data,n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=Object(c.a)(m().scale,2),n=t[0]*e,a=-t[1]*e;return{frame:{transform:"rotateX(".concat(a,"deg) rotateY(").concat(n,"deg)")},image:{transform:"translateX(".concat(1.5*-n,"px) translateY(").concat(1.5*a,"px)")},background:{backgroundPosition:"".concat(2.5*-n,"px ").concat(2.5*a,"px")}}}(20),a=u(),o=Object(c.a)(a,1)[0],s=g(t,l),d=s.type,w=s.title,v=s.list,h=s.tips;return function(e){Object(i.useEffect)(function(){return document.title=e},[e])}(d+": "+w),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"cards",style:n.frame},r.a.createElement("h3",null,d),r.a.createElement("h1",null,w),v.map(function(e){return r.a.createElement(p,{key:e.name,data:e,styles:n})})),r.a.createElement("span",{className:"notice"},h,": ",o))},v=n(5),h=n(6),f=n(9),b=n(7),E=n(10),y=function(e){function t(){var e,n;Object(v.a)(this,t);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(n=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(c)))).state={windowWidth:window.innerWidth,x:0,y:0,range:20},n.handleWindowResize=function(){n.setState({windowWidth:window.innerWidth})},n.handleMouseMove=function(e){var t=window.innerWidth,a=window.innerHeight,c=t/2,i=a/2,r=t/2,o=a/2,s=e.clientX-c,l=e.clientY-i,d=Math.min(s/r,1)*n.state.range,u=-Math.min(l/o,1)*n.state.range;n.setState({x:d,y:u})},n}return Object(E.a)(t,e),Object(h.a)(t,[{key:"updateTitle",value:function(){var e=this.props.data,t="cn"===this.context?e.i18n.CN.type:e.type,n="cn"===this.context?e.i18n.CN.title:e.title;document.title=t+": "+n}},{key:"componentDidMount",value:function(){this.updateTitle(),window.addEventListener("resize",this.handleWindowResize),window.addEventListener("mousemove",this.handleMouseMove)}},{key:"componentWillUnmount",value:function(){window.addEventListener("resize",this.handleWindowResize),window.addEventListener("mousemove",this.handleMouseMove)}},{key:"componentDidUpdate",value:function(){this.updateTitle()}},{key:"render",value:function(){var e=this,t=this.props.data,n="cn"===this.context?t.i18n.CN.type:t.type,a="cn"===this.context?t.i18n.CN.title:t.title,c="cn"===this.context?t.i18n.CN.tips:t.tips,i=t.list,o=this.state,s=o.x,l=o.y,d={transform:"rotateX(".concat(l,"deg) rotateY(").concat(s,"deg)")},u={transform:"translateX(".concat(1.5*-s,"px) translateY(").concat(1.5*l,"px)")},m={backgroundPosition:"".concat(2.5*-s,"px ").concat(2.5*l,"px")};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"cards",style:d},r.a.createElement("h3",null,n),r.a.createElement("h1",null,a),i.map(function(t){return r.a.createElement(j,{key:t.name,data:t,i18n:e.context,styles:{image:u,background:m}})})),r.a.createElement("span",{className:"notice"},c,": ",this.state.windowWidth))}}]),t}(r.a.Component);y.contextType=l;var j=function(e){var t=e.data,n=e.i18n,a=e.styles,c="cn"===n?t.i18n.CN.name:t.name,i=t.image,o=t.imageStyle,s=t.background;return r.a.createElement("div",{className:"card"},r.a.createElement("div",{style:Object(d.a)({},a.background,{backgroundImage:"url(".concat(s,")"),backgroundSize:"cover",backgroundRepeat:"no-repeat"}),className:"card__bg"}),r.a.createElement("img",{className:"card__img",style:Object(d.a)({},o,a.image),src:i,alt:c,title:c}),r.a.createElement("div",{className:"card__text"},r.a.createElement("p",{className:"card__title"},c)))};var k=function(e){var t=e.data,n=e.i18n,a=e.styles,c="cn"===n?t.i18n.CN.name:t.name,i=t.image,o=t.imageStyle,s=t.background;return r.a.createElement("div",{className:"card"},r.a.createElement("div",{style:Object(d.a)({},a.background,{backgroundImage:"url(".concat(s,")"),backgroundSize:"cover",backgroundRepeat:"no-repeat"}),className:"card__bg"}),r.a.createElement("img",{className:"card__img",style:Object(d.a)({},o,a.image),src:i,alt:c,title:c}),r.a.createElement("div",{className:"card__text"},r.a.createElement("p",{className:"card__title"},c)))},O={class:y,hook:function(e){var t=e.data,n=Object(i.useContext)(l),a="cn"===n?t.i18n.CN.type:t.type,o="cn"===n?t.i18n.CN.title:t.title,s="cn"===n?t.i18n.CN.tips:t.tips,d=t.list,u=Object(i.useState)(window.innerWidth),m=Object(c.a)(u,2),g=m[0],p=m[1],w=Object(i.useState)([0,0]),v=Object(c.a)(w,2),h=Object(c.a)(v[0],2),f=h[0],b=h[1],E=v[1];Object(i.useEffect)(function(){var e=function(){return p(window.innerWidth)};return window.addEventListener("resize",e),function(){return window.addEventListener("resize",e)}},[]),Object(i.useEffect)(function(){var e=function(e){var t=window.innerWidth,n=window.innerHeight,a=t/2,c=n/2,i=t/2,r=n/2,o=e.clientX-a,s=e.clientY-c,l=20*Math.min(o/i,1),d=20*-Math.min(s/r,1);E([l,d])};return window.addEventListener("mousemove",e),function(){return window.addEventListener("mousemove",e)}},[]),Object(i.useEffect)(function(){document.title=a+": "+o});var y={transform:"rotateX(".concat(b,"deg) rotateY(").concat(f,"deg)")},j={transform:"translateX(".concat(1.5*-f,"px) translateY(").concat(1.5*b,"px)")},O={backgroundPosition:"".concat(2.5*-f,"px ").concat(2.5*b,"px")};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"cards",style:y},r.a.createElement("h3",null,a),r.a.createElement("h1",null,o),d.map(function(e){return r.a.createElement(k,{key:e.name,data:e,i18n:n,styles:{image:j,background:O}})})),r.a.createElement("span",{className:"notice"},s,": ",g))},custom:w},N=function(e){var t=e.data,n=e.toggle,a=g(t,l).locale;return r.a.createElement("div",{className:"twitter__link",onClick:n},a)};s.a.render(r.a.createElement(function(e){var t=e.data,n=function(){var e=Object(i.useState)(window.location.hash.slice(1)),t=Object(c.a)(e,2),n=t[0],a=t[1];return Object(i.useEffect)(function(){var e=function(){return a(window.location.hash.slice(1))};return window.addEventListener("hashchange",e),function(){return window.removeEventListener("hashchange",e)}},[]),n}(),o=O[n]||w,s=function(e,t){var n=Object(i.useState)(e),a=Object(c.a)(n,2),r=a[0],o=a[1];return[r,function(){return r===e?o(t):r===t?o(e):void 0}]}.apply(void 0,Object(a.a)(t.locales)),d=Object(c.a)(s,2),u=d[0],m=d[1];return console.log("style",n),r.a.createElement(r.a.Fragment,null,r.a.createElement(l.Provider,{value:u},r.a.createElement(N,{data:t,toggle:m}),r.a.createElement(o,{data:t})))},{data:{locales:["en","cn"],type:"Movies",title:"Miyazaki Hayao",locale:"USA",tips:"view on desktop for mousemove",i18n:{CN:{title:"\u5bab\u5d0e\u9a8f",type:"\u7535\u5f71",tips:"\u5728\u684c\u9762\u7535\u8111\u4e0a\u79fb\u52a8\u9f20\u6807\u67e5\u770b",locale:"\u4e2d\u56fd"}},list:[{name:"Princess Mononoke",i18n:{CN:{name:"\u5e7d\u7075\u516c\u4e3b"}},image:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/62105/3dr_mono.png",imageStyle:{top:14,right:-10,height:"110%"},background:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/62105/3dr_monobg.jpg"},{name:"Spirited Away",i18n:{CN:{name:"\u5343\u4e0e\u5343\u5bfb"}},image:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/62105/3dr_chihiro.png",imageStyle:{top:25},background:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/62105/3dr_spirited.jpg"},{name:"Howl's Moving Castle",i18n:{CN:{name:"\u54c8\u5c14\u7684\u79fb\u52a8\u57ce\u5821"}},image:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/62105/3dr_howlcastle.png",imageStyle:{top:5,right:-4,height:"110%"},background:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/62105/3dr_howlbg.jpg"}]}}),document.getElementById("root"))}},[[11,2,1]]]);
//# sourceMappingURL=main.6239e80a.chunk.js.map